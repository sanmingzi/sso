<% if policy(User).retrieve? %>
  <%= form_with(url: search_users_path, class: 'form-inline mt-1 mb-1') do |f| %>
    <div class='form-group'>
      <%= f.text_field :search_key, value: @search_key, placeholder: 'Search User', class: 'form-control' %>
    </div>
    <%= f.submit 'Submit', class: 'btn btn-primary ml-1' %>
  <% end %>
<% end %>

<table class='table table-striped mt-1 mb-1'>
  <thead class='thead-dark'>
    <tr>
      <th scope='col'>ID</th>
      <th scope='col'>Username</th>
      <th scope='col'>Email</th>
      <% if policy(User).update? %>
        <th scope="col">Actions</th>
      <% end %>
    </tr>
  </thead>

  <tbody id="users">
    <%= render @users %>
  <tbody>
</table>
